<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="Gambar/Screenshot_2025-06-25_221917-removebg-preview.png" type="image/png" />
<title>Pesona Rasa</title>
<style>
/* --- Style Awal --- */
body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  color: white;
  background: linear-gradient(rgba(11, 15, 22, 0.85), rgba(11, 15, 22, 0.85)), url('bg.jpg');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
}
@media (max-width: 768px) {
  body { background-size: cover; background-position: center top; }
}
header { padding: 20px; text-align: center; background: rgba(11, 15, 22, 0.8); backdrop-filter: blur(6px); border-bottom: 1px solid rgba(255,255,255,0.1); }
h1 { margin: 0; font-size: 1.8em; text-shadow: 0 0 10px rgba(0,255,245,0.5); }
main { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; padding: 20px; }
.card { background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; flex: 1 1 calc(33.33% - 20px); min-width: 250px; max-width: 350px; overflow: hidden; display: flex; flex-direction: column; backdrop-filter: blur(4px); transition: transform 0.3s ease; }
.card img { width: 100%; height: 150px; object-fit: cover; transition: transform 0.3s ease; }
.card-body { padding: 15px; }
.card-footer { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; }
.card:hover { transform: scale(1.03); }
.card:hover img { transform: scale(1.1); }
.price { color: #00fff5; font-weight: bold; }
button { background: linear-gradient(90deg, #00fff5, #ff67e0); border: none; padding: 8px 12px; border-radius: 8px; color: black; font-weight: bold; cursor: pointer; }
button:hover { opacity: 0.9; }
footer { background: rgba(0,0,0,0.8); color: #fff; text-align: center; padding: 25px 15px; margin-top: 30px; }
footer a { display: inline-block; background: #f39c12; color: #fff; padding: 10px 20px; text-decoration: none; border-radius: 6px; margin-top: 10px; font-weight: bold; transition: background 0.3s; }
footer a:hover { background: #d48806; }
footer hr { margin: 20px auto; width: 80%; border: 0; border-top: 1px solid rgba(255,255,255,0.2); }

/* --- Modal Popup --- */
.modal {
  display: none; 
  position: fixed; 
  z-index: 999; 
  padding-top: 100px; 
  left: 0; top: 0; 
  width: 100%; height: 100%; 
  background-color: rgba(0,0,0,0.6);
}
.modal-content {
  background-color: #1f1f1f;
  margin: auto;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 400px;
  color: white;
}
.modal-content h2 {
  margin-top: 0;
  text-align: center;
}
.modal-content input {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 6px;
  border: none;
  font-size: 16px;
}
.modal-content button {
  width: 100%;
  margin-top: 15px;
}
.close {
  color: #aaa;
  float: right;
  font-size: 24px;
  cursor: pointer;
}
</style>
</head>
<body>

<header>
  <h1>âœ¨ Pesona Rasa â€” Karya Lezat Daruma</h1>
  <p>ðŸ“œ Hadirkan cita rasa terbaik dari bahan pilihan, diracik dengan sepenuh hati oleh Daruma. Nikmati kelezatan yang memikat lidah dan meninggalkan kesan tak terlupakan.</p>
  <button onclick="openModal()">âž• Add Credit</button>
</header>

<main id="menu"></main>

<!-- Bagian Hubungi Kami -->
<section class="bg-yellow-50 py-10 animate-section opacity-0 translate-y-5 transition-all duration-700 ease-out">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
      Ingin Memesan Lebih Banyak atau Menjadi Agen Kami?
    </h2>
    <p class="text-gray-600 mb-6">
      Hubungi kami sekarang untuk penawaran spesial dan peluang kerjasama.
    </p>
    <a href="https://wa.me/6281234567890?text=Halo%2C%20Saya%20ingin%20memesan%20atau%20menjadi%20agen"
       class="bg-green-500 text-white px-6 py-3 rounded-full text-lg font-semibold shadow hover:bg-green-600 transition wa-button">
      ðŸ“² Hubungi Kami via WhatsApp
    </a>
  </div>
</section>

<!-- Copyright -->
<footer class="bg-gray-900 text-white py-4 mt-10">
  <div class="container mx-auto px-4 text-center">
    <p class="text-sm">
      &copy; <span id="year"></span> PT. Pesona Golden Steel. All Rights Reserved.
    </p>
  </div>
</footer>

<!-- Bagian Hubungi Kami -->
<section class="bg-yellow-50 py-10 animate-section opacity-0 translate-y-5 transition-all duration-700 ease-out">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
      Ingin Memesan Lebih Banyak atau Menjadi Agen Kami?
    </h2>
    <p class="text-gray-600 mb-6">
      Hubungi kami sekarang untuk penawaran spesial dan peluang kerjasama.
    </p>
    <a href="https://wa.me/6281234567890?text=Halo%2C%20Saya%20ingin%20memesan%20atau%20menjadi%20agen"
       class="bg-green-500 text-white px-6 py-3 rounded-full text-lg font-semibold shadow hover:bg-green-600 transition wa-button">
      ðŸ“² Hubungi Kami via WhatsApp
    </a>
  </div>
</section>

<!-- Copyright -->
<footer class="bg-gray-900 text-white py-4 mt-10">
  <div class="container mx-auto px-4 text-center">
    <p class="text-sm">
      &copy; <span id="year"></span> PT. Pesona Golden Steel. All Rights Reserved.
    </p>
  </div>
</footer>

<style>
  /* Animasi getar */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-3px); }
    40% { transform: translateX(3px); }
    60% { transform: translateX(-3px); }
    80% { transform: translateX(3px); }
  }
  .shake {
    animation: shake 0.4s ease-in-out;
  }
</style>

<script>
  // Auto update tahun
  document.getElementById("year").textContent = new Date().getFullYear();

  // Animasi scroll
  const section = document.querySelector(".animate-section");
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        section.classList.remove("opacity-0", "translate-y-5");
      }
    });
  }, { threshold: 0.2 });
  observer.observe(section);

  // Efek getar tombol WhatsApp
  const waButton = document.querySelector(".wa-button");
  setInterval(() => {
    waButton.classList.add("shake");
    setTimeout(() => waButton.classList.remove("shake"), 400);
  }, 5000); // Getar setiap 5 detik
</script>




<!-- Modal -->
<div id="topupModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h2>Top Up Saldo</h2>
    <input type="number" id="topupAmount" placeholder="Masukkan jumlah top up" min="1000">
    <button onclick="submitTopup()">Kirim</button>
  </div>
</div>

<script>
const products = [
  {id: 'p1', name: 'Otak-Otak Ikan', price: 12000, image: 'Gambar/otakotak.jpg', desc: 'Otak Otak dibuat dari daging ikan segar & sayuran tanpa bahan pengawet. Lezat, sehat, cocok untuk nyemil atau teman makan.'},
  {id: 'p2', name: 'Kaki Naga', price: 12000, image: 'Gambar/kakinaga.jpg', desc: 'Kaki naga dari campuran daging ikan segar dan udang pilihan, dibalut tepung renyah tanpa bahan pengawet. Gurih, lembut di dalam, renyah di luar.'},
  {id: 'p3', name: 'Bakso Ikan', price: 12000, image: 'Gambar/baksoikan.jpg', desc: 'Bakso ikan dari daging ikan segar, bumbu istimewa tanpa pengawet. Tekstur lembut, rasa gurih alami, sehat untuk keluarga.'},
  {id: 'p4', name: 'Nuget Ikan', price: 12000, image: 'Gambar/nuggetikan.jpg', desc: 'Nuget ikan dari fillet ikan segar, dibumbui dan dibalut tepung renyah. Tanpa bahan pengawet, nikmat untuk bekal atau camilan.'}
];

const menu = document.getElementById('menu');
products.forEach(p => {
  const card = document.createElement('div');
  card.className = 'card';
  card.innerHTML = `
    <img src="${p.image}" alt="${p.name}">
    <div class="card-body">
      <h3>${p.name}</h3>
      <p>${p.desc}</p>
    </div>
    <div class="card-footer">
      <span class="price">Rp ${p.price.toLocaleString()}</span>
      <button onclick="checkout('${p.id}')">Beli</button>
    </div>
  `;
  menu.appendChild(card);
});

async function checkout(productId) {
  const product = products.find(p => p.id === productId);
  if (!product) return alert('Produk tidak ditemukan.');

  const body = {
    items: [{id: product.id, name: product.name, price: product.price, qty: 1}],
    shop_name: 'Pesona Rasa'
  };

  try {
    const res = await fetch('https://n8n-u4h4ccvawbyc.ciluba.sumopod.my.id/webhook/e6553ca7-29c4-474d-b589-286986624dfa', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(body)
    });
    const data = await res.json();
    if (data.invoice_url) {
      window.location.href = data.invoice_url;
    } else {
      alert('Gagal membuat invoice.');
    }
  } catch (err) {
    console.error(err);
    alert('Terjadi kesalahan saat memproses pesanan.');
  }
}

/* === Fitur Modal Top Up === */
function openModal() {
  document.getElementById('topupModal').style.display = 'block';
}
function closeModal() {
  document.getElementById('topupModal').style.display = 'none';
}

async function submitTopup() {
  const amount = parseInt(document.getElementById('topupAmount').value);
  if (!amount || amount < 1000) {
    alert('Masukkan nominal minimal 1000');
    return;
  }

  try {
    const res = await fetch('https://n8n-patuaecdsfbr.pempek.sumopod.my.id/webhook/topup-balance', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ' + 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp6cHFjaG5neGV3bnVkbGt6emV3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NDg0MzcwMiwiZXhwIjoyMDcwNDE5NzAyfQ.OONC-XJwnPdyoU1e_HNMA_f7L5cbQ89-gS-pMErDm5k' // Ganti dengan token asli
      },
      body: JSON.stringify({ amount })
    });

    const data = await res.json();
    if (data.invoice_url) {
      window.location.href = data.invoice_url;
    } else {
      alert('Gagal membuat invoice topup.');
    }
  } catch (err) {
    console.error(err);
    alert('Terjadi kesalahan saat memproses topup.');
  }
}

document.getElementById("year").textContent = new Date().getFullYear();
</script>

</body>
</html>





